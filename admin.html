
<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Panel de Administración - Gana con Narbis</title>
    <link rel="stylesheet" href="admin_styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>

<body>

    <div class="admin-container">
        
        <aside class="sidebar">
            <div class="sidebar-header">
                <h3>Admin Gana con Narbis</h3>
            </div>
            <nav class="sidebar-nav">
                <button class="nav-btn active" data-section="sorteos"><i class="fas fa-gift"></i> Sorteos</button>
                <button class="nav-btn" data-section="boletos"><i class="fas fa-ticket-alt"></i> Boletos Vendidos</button>
                <button class="nav-btn" data-section="pagos"><i class="fas fa-money-check-alt"></i> Métodos de Pago</button>
            </nav>
            <button class="logout-btn nav-btn" data-section="logout"><i class="fas fa-sign-out-alt"></i> Cerrar Sesión</button>
        </aside>

        <main class="main-content">
            
            <section id="sorteos" class="admin-section active">
                <div class="section-header">
                    <h2>Gestión de Sorteos</h2>
                    <button id="abrir-nuevo-sorteo" class="btn-primary">➕ Nuevo Sorteo</button>
                </div>
                <div id="sorteos-list" class="list-container">
                    </div>
            </section>

            <section id="boletos" class="admin-section">
                <div class="section-header">
                    <h2>Validación de Pagos (Boletos Pendientes)</h2>
                </div>
                <div id="boletos-pendientes-list" class="list-container">
                    </div>
            </section>

            <section id="pagos" class="admin-section">
                <div class="section-header">
                    <h2>Métodos de Pago</h2>
                </div>
                <p>Contenido pendiente: Se listarán y editarán los métodos de pago (Pago Móvil, Zelle, etc.) desde la tabla `metodos_pago`.</p>
            </section>

        </main>
    </div>

    <div id="modal-sorteo" class="modal-overlay-admin">
        <div class="modal-content-admin">
            <h3>Crear / Editar Sorteo</h3>
            <span class="close-btn-admin" onclick="document.getElementById('modal-sorteo').classList.remove('active')">&times;</span>
            
            <form id="form-sorteo">
                <input type="hidden" id="sorteo-id">
                
                <label for="titulo">Título del Sorteo (*)</label>
                <input type="text" id="titulo" required>
                
                <label for="descripcion_corta">Descripción Corta (máx 100 caracteres)</label>
                <input type="text" id="descripcion_corta" maxlength="100">

                <label for="descripcion_larga">Descripción Larga</label>
                <textarea id="descripcion_larga"></textarea>

                <div class="form-group-inline">
                    <label for="precio_bs">Precio por Boleto (Bs.) (*)</label>
                    <input type="number" id="precio_bs" step="0.01" required>

                    <label for="fecha_sorteo">Fecha y Hora del Sorteo (*)</label>
                    <input type="datetime-local" id="fecha_sorteo" required>
                </div>

                <label for="imagen_url">URL de la Imagen Principal</label>
                <input type="url" id="imagen_url">

                <label for="estado_sorteo">Estado</label>
                <select id="estado_sorteo">
                    <option value="activo">Activo</option>
                    <option value="vendido">Vendido (Agotado)</option>
                    <option value="finalizado">Finalizado (Sorteado)</option>
                </select>

                <div id="premios-container">
                    <h4>Premios (1er lugar, 2do lugar, etc.)</h4>
                    </div>
                
                <button type="button" id="agregar-premio-btn" class="btn-secondary" style="margin-bottom: 20px;">+ Agregar Premio</button>

                <button type="submit" class="btn-primary" style="width: 100%;">Guardar Sorteo</button>
            </form>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2.0.0/dist/umd/supabase.min.js"></script>
    <script src="admin_script.js" defer></script>
</body>

</html>
